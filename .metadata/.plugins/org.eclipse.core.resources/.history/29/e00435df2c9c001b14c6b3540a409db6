<%@page import="java.sql.ResultSet"%>
<%@page import="java.sql.PreparedStatement"%>
<%@page import="java.sql.Connection"%>
<%@page import="java.sql.DriverManager"%>
<%@ page language="java" contentType="text/html; charset=UTF-8"
    pageEncoding="UTF-8"%>
<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<title>Insert title here</title>
</head>
<body>
	<h1>member.loginPro.jsp</h1>
	
	<%
	request.setCharacterEncoding("utf-8");
	
	%>
	
	
	<jsp:useBean id="mb" class="com.itwillbs.member.memberBean"/>
	
	<jsp:setProperty property="*" name="mb"/>
	
	<% 
	System.out.println("전달정보:" +mb);
	
	
	String DRIVER = "com.mysql.jdbc.Driver";
    String DBURL = "jdbc:mysql://localhost:3306/jspdb";
    String DBID ="root";
    String DBPW ="1234";
   
    //2. 드라이버연결 
    Class.forName(DRIVER);
    
  Connection conn = DriverManager.getConnection(DBURL, DBID, DBPW);
  
  //3. sql구문 & pstmt객체 생성
  String sql ="select pw from itwill_member where id=?";
    
  PreparedStatement pstmt = conn.prepareStatement(sql);
  
  pstmt.setString(1, mb.getId());
  
  //4. sql구문 실행
ResultSet rs = pstmt.executeQuery();
  
  //5. 데이터 처리
  if(rs.next()){ //sql구문의 결과가 있을때 
	  //회원이다.
	  //비밀번호를 사용해서 본인확인
	  if(mb.getPw() == rs.getString("pw")){
		  
		  
	  }
  }else{
	  //비회원이다.
	  
  }
  
  
	
	
	
	%>
	
</body>
</html>